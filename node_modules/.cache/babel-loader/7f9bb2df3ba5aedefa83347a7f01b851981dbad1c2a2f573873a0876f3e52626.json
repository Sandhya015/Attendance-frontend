{"ast":null,"code":"// src/services/api.js\nimport axios from'axios';// 1. Create an axios instance with baseURL\nconst API=axios.create({baseURL:'http://localhost:5000'});// 2. Automatically attach JWT token from localStorage\nAPI.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=`Bearer ${token}`;}return config;});// 3. Attendance-related endpoints\nexport const checkin=data=>API.post('/attendance/checkin',data);export const checkout=data=>API.post('/attendance/checkout',data);export const getHistory=()=>API.get('/attendance/history');export const submitLeaveRequest=data=>API.post('/leave/request',data);export const getLeaveHistory=()=>API.get('/leave/my-requests');export const getEmployeeSummary=()=>API.get('/employee/summary');export const getProfile=()=>axios.get('http://localhost:5000/employee/profile',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});export const updateEmployeeProfile=updatedData=>axios.put('http://localhost:5000/employee/update-profile',updatedData,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});// 4. Admin endpoints\nexport const checkAdminExists=()=>API.get('/admin/check');export const getAllRecords=filters=>API.get('/admin/records',{params:filters});export const exportCSV=()=>API.get('/admin/export',{responseType:'blob'});export const getPendingCheckins=()=>API.get('/admin/checkins/pending');export const approveCheckin=(id,status)=>API.post(`/admin/checkins/approve/${id}`,{status});export const getAllLeaveRequests=()=>API.get('/admin/leave-requests');export const updateLeaveStatus=(id,status)=>API.put(`/admin/leave-requests/${id}`,{status});export const addEmployee=employeeData=>API.post('/admin/add-employee',employeeData);export const addManualAttendance=data=>API.post('/admin/manual-attendance',data);export default API;","map":{"version":3,"names":["axios","API","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","checkin","data","post","checkout","getHistory","get","submitLeaveRequest","getLeaveHistory","getEmployeeSummary","getProfile","updateEmployeeProfile","updatedData","put","checkAdminExists","getAllRecords","filters","params","exportCSV","responseType","getPendingCheckins","approveCheckin","id","status","getAllLeaveRequests","updateLeaveStatus","addEmployee","employeeData","addManualAttendance"],"sources":["/home/oto-sandhya/Downloads/attendance-frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nimport axios from 'axios';\r\n\r\n// 1. Create an axios instance with baseURL\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:5000',\r\n});\r\n\r\n// 2. Automatically attach JWT token from localStorage\r\nAPI.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// 3. Attendance-related endpoints\r\nexport const checkin = (data) => API.post('/attendance/checkin', data);\r\nexport const checkout = (data) => API.post('/attendance/checkout', data);\r\nexport const getHistory = () => API.get('/attendance/history');\r\nexport const submitLeaveRequest = (data) => API.post('/leave/request', data);\r\nexport const getLeaveHistory = () => API.get('/leave/my-requests');\r\nexport const getEmployeeSummary = () => API.get('/employee/summary');\r\n\r\nexport const getProfile = () =>\r\n  axios.get('http://localhost:5000/employee/profile', {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`\r\n    }\r\n  });\r\n\r\nexport const updateEmployeeProfile = (updatedData) =>\r\n  axios.put('http://localhost:5000/employee/update-profile', updatedData, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n    },\r\n  });\r\n\r\n// 4. Admin endpoints\r\nexport const checkAdminExists = () => API.get('/admin/check');\r\nexport const getAllRecords = (filters) => API.get('/admin/records', { params: filters });\r\nexport const exportCSV = () => API.get('/admin/export', { responseType: 'blob' });\r\nexport const getPendingCheckins = () => API.get('/admin/checkins/pending');\r\nexport const approveCheckin = (id, status) => API.post(`/admin/checkins/approve/${id}`, { status });\r\nexport const getAllLeaveRequests = () => API.get('/admin/leave-requests');\r\nexport const updateLeaveStatus = (id, status) => API.put(`/admin/leave-requests/${id}`, { status });\r\nexport const addEmployee = (employeeData) => API.post('/admin/add-employee', employeeData);\r\nexport const addManualAttendance = (data) => API.post('/admin/manual-attendance', data);\r\n\r\nexport default API;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}