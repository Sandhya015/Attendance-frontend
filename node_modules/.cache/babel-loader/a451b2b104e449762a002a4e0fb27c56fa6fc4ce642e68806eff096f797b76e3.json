{"ast":null,"code":"// src/services/api.js\nimport axios from 'axios';\n\n// 1. Create an axios instance with baseURL\nconst API = axios.create({\n  baseURL: 'http://localhoshttp://192.168.5.180:5000t:5000'\n});\n\n// 2. Automatically attach JWT token from localStorage\nAPI.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// 3. Attendance-related endpoints\nexport const submitLeaveRequest = data => API.post('/leave/request', data);\nexport const getLeaveHistory = () => API.get('/leave/my-requests');\nexport const checkin = data => API.post('/attendance/checkin', data);\nexport const checkout = data => API.post('/attendance/checkout', data);\nexport const getHistory = () => API.get('/attendance/history');\nexport const getEmployeeSummary = () => API.get('/employee/summary');\n\n// 4. Admin endpoints\nexport const getPendingCheckins = () => API.get('/admin/checkins/pending');\nexport const approveCheckin = (id, status) => API.post(`/admin/checkins/approve/${id}`, {\n  status\n});\nexport const addEmployee = employeeData => API.post('/admin/add-employee', employeeData);\nexport const getAllLeaveRequests = () => API.get('/admin/leave-requests');\nexport const updateLeaveStatus = (id, status) => API.put(`/admin/leave-requests/${id}`, {\n  status\n});\nexport const checkAdminExists = () => API.get('/admin/check');\nexport const getAllRecords = filters => API.get('/admin/records', {\n  params: filters\n});\nexport const exportCSV = () => API.get('/admin/export', {\n  responseType: 'blob'\n});\nexport const addManualAttendance = data => API.post('/admin/manual-attendance', data);\nexport const getProfile = () => axios.get('http://192.168.5.180:5000', {\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem('token')}`\n  }\n});\nconst BASE_URL = 'http://localhost:5000';\nexport const updateEmployeeProfile = updatedData => axios.put(`${BASE_URL}/employee/update-profile`, updatedData, {\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem('token')}`\n  }\n});\nexport default API;","map":{"version":3,"names":["axios","API","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","submitLeaveRequest","data","post","getLeaveHistory","get","checkin","checkout","getHistory","getEmployeeSummary","getPendingCheckins","approveCheckin","id","status","addEmployee","employeeData","getAllLeaveRequests","updateLeaveStatus","put","checkAdminExists","getAllRecords","filters","params","exportCSV","responseType","addManualAttendance","getProfile","BASE_URL","updateEmployeeProfile","updatedData"],"sources":["/home/oto-sandhya/Downloads/attendance-frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nimport axios from 'axios';\r\n\r\n// 1. Create an axios instance with baseURL\r\nconst API = axios.create({\r\n  baseURL: 'http://localhoshttp://192.168.5.180:5000t:5000',\r\n});\r\n\r\n// 2. Automatically attach JWT token from localStorage\r\nAPI.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// 3. Attendance-related endpoints\r\nexport const submitLeaveRequest = (data) => API.post('/leave/request', data);\r\nexport const getLeaveHistory = () => API.get('/leave/my-requests');\r\nexport const checkin = (data) => API.post('/attendance/checkin', data);\r\nexport const checkout = (data) => API.post('/attendance/checkout', data);\r\nexport const getHistory = () => API.get('/attendance/history');\r\nexport const getEmployeeSummary = () => API.get('/employee/summary');\r\n\r\n// 4. Admin endpoints\r\nexport const getPendingCheckins = () => API.get('/admin/checkins/pending');\r\nexport const approveCheckin = (id, status) =>\r\n  API.post(`/admin/checkins/approve/${id}`, { status });\r\n\r\nexport const addEmployee = (employeeData) => \r\n  API.post('/admin/add-employee', employeeData);\r\n\r\nexport const getAllLeaveRequests = () => API.get('/admin/leave-requests');\r\nexport const updateLeaveStatus = (id, status) =>\r\n  API.put(`/admin/leave-requests/${id}`, { status });\r\n\r\nexport const checkAdminExists = () => API.get('/admin/check');\r\nexport const getAllRecords = (filters) =>\r\n  API.get('/admin/records', { params: filters });\r\n\r\nexport const exportCSV = () =>\r\n  API.get('/admin/export', { responseType: 'blob' });\r\n\r\nexport const addManualAttendance = (data) =>\r\n  API.post('/admin/manual-attendance', data);\r\n\r\nexport const getProfile = () =>\r\n  axios.get('http://192.168.5.180:5000', {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`\r\n    }\r\n  });\r\n\r\nconst BASE_URL = 'http://localhost:5000';\r\nexport const updateEmployeeProfile = (updatedData) =>\r\n  axios.put(`${BASE_URL}/employee/update-profile`, updatedData, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n    },\r\n  });\r\n\r\nexport default API;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}