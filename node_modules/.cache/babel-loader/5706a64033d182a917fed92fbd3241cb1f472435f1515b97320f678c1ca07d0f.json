{"ast":null,"code":"// src/services/api.js\nimport axios from 'axios';\n\n// 1. Create an axios instance with baseURL\nconst API = axios.create({\n  baseURL: 'http://localhost:5000'\n});\n\n// 2. Automatically attach JWT token from localStorage\nAPI.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// 3. Attendance-related endpoints\nexport const checkin = data => API.post('/attendance/checkin', data);\nexport const checkout = data => API.post('/attendance/checkout', data);\nexport const getHistory = () => API.get('/attendance/history');\nexport const submitLeaveRequest = data => API.post('/leave/request', data);\nexport const getLeaveHistory = () => API.get('/leave/my-requests');\nexport const getEmployeeSummary = () => API.get('/employee/summary');\nexport const getProfile = () => axios.get('http://localhost:5000/employee/profile', {\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem('token')}`\n  }\n});\nexport const updateEmployeeProfile = updatedData => axios.put('http://localhost:5000/employee/update-profile', updatedData, {\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem('token')}`\n  }\n});\n\n// 4. Admin endpoints\nexport const checkAdminExists = () => API.get('/admin/check');\nexport const getAllRecords = filters => API.get('/admin/records', {\n  params: filters\n});\nexport const exportCSV = () => API.get('/admin/export', {\n  responseType: 'blob'\n});\nexport const getPendingCheckins = () => API.get('/admin/checkins/pending');\nexport const approveCheckin = (id, status) => API.post(`/admin/checkins/approve/${id}`, {\n  status\n});\nexport const getAllLeaveRequests = () => API.get('/admin/leave-requests');\nexport const updateLeaveStatus = (id, status) => API.put(`/admin/leave-requests/${id}`, {\n  status\n});\nexport const addEmployee = employeeData => API.post('/admin/add-employee', employeeData);\nexport const addManualAttendance = data => API.post('/admin/manual-attendance', data);\nexport default API;","map":{"version":3,"names":["axios","API","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","checkin","data","post","checkout","getHistory","get","submitLeaveRequest","getLeaveHistory","getEmployeeSummary","getProfile","updateEmployeeProfile","updatedData","put","checkAdminExists","getAllRecords","filters","params","exportCSV","responseType","getPendingCheckins","approveCheckin","id","status","getAllLeaveRequests","updateLeaveStatus","addEmployee","employeeData","addManualAttendance"],"sources":["/home/oto-sandhya/Downloads/attendance-frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nimport axios from 'axios';\r\n\r\n// 1. Create an axios instance with baseURL\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:5000',\r\n});\r\n\r\n// 2. Automatically attach JWT token from localStorage\r\nAPI.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// 3. Attendance-related endpoints\r\nexport const checkin = (data) => API.post('/attendance/checkin', data);\r\nexport const checkout = (data) => API.post('/attendance/checkout', data);\r\nexport const getHistory = () => API.get('/attendance/history');\r\nexport const submitLeaveRequest = (data) => API.post('/leave/request', data);\r\nexport const getLeaveHistory = () => API.get('/leave/my-requests');\r\nexport const getEmployeeSummary = () => API.get('/employee/summary');\r\n\r\nexport const getProfile = () =>\r\n  axios.get('http://localhost:5000/employee/profile', {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`\r\n    }\r\n  });\r\n\r\nexport const updateEmployeeProfile = (updatedData) =>\r\n  axios.put('http://localhost:5000/employee/update-profile', updatedData, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n    },\r\n  });\r\n\r\n// 4. Admin endpoints\r\nexport const checkAdminExists = () => API.get('/admin/check');\r\nexport const getAllRecords = (filters) => API.get('/admin/records', { params: filters });\r\nexport const exportCSV = () => API.get('/admin/export', { responseType: 'blob' });\r\nexport const getPendingCheckins = () => API.get('/admin/checkins/pending');\r\nexport const approveCheckin = (id, status) => API.post(`/admin/checkins/approve/${id}`, { status });\r\nexport const getAllLeaveRequests = () => API.get('/admin/leave-requests');\r\nexport const updateLeaveStatus = (id, status) => API.put(`/admin/leave-requests/${id}`, { status });\r\nexport const addEmployee = (employeeData) => API.post('/admin/add-employee', employeeData);\r\nexport const addManualAttendance = (data) => API.post('/admin/manual-attendance', data);\r\n\r\nexport default API;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}